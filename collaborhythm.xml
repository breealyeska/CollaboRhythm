<?xml version="1.0" encoding="UTF-8"?>
<project name="collaborhythm" default="all">
  
  
  <property file="collaborhythm.properties"/>
  <!-- Uncomment the following property if no tests compilation is needed -->
  <!-- 
  <property name="skip.tests" value="true"/>
   -->
  
  <!-- Compiler options -->
  
  <property name="compiler.debug" value="on"/>
  <property name="compiler.generate.no.warnings" value="off"/>
  <property name="compiler.args" value=""/>
  <property name="compiler.max.memory" value="700m"/>
  <patternset id="ignored.files">
    <exclude name="**/CVS/**"/>
    <exclude name="**/SCCS/**"/>
    <exclude name="**/RCS/**"/>
    <exclude name="**/.DS_Store/**"/>
    <exclude name="**/.svn/**"/>
    <exclude name="**/.pyc/**"/>
    <exclude name="**/.pyo/**"/>
    <exclude name="**/*.pyc/**"/>
    <exclude name="**/*.pyo/**"/>
    <exclude name="**/.git/**"/>
    <exclude name="**/*.hprof/**"/>
    <exclude name="**/_svn/**"/>
    <exclude name="**/.hg/**"/>
    <exclude name="**/*.lib/**"/>
    <exclude name="**/*~/**"/>
    <exclude name="**/__pycache__/**"/>
    <exclude name="**/.bundle/**"/>
    <exclude name="**/*.rbc/**"/>
  </patternset>
  <patternset id="compiler.excluded">
    <exclude name="${basedir}/CollaboRhythm.Android.DeviceGateway/gen/**"/>
    <exclude name="${basedir}/CollaboRhythm.NativeExtensions.PlayVideo.Android/gen/**"/>
  </patternset>
  <patternset id="library.patterns">
    <include name="*.war"/>
    <include name="*.ear"/>
    <include name="*.apk"/>
    <include name="*.zip"/>
    <include name="*.swc"/>
    <include name="*.ane"/>
    <include name="*.egg"/>
    <include name="*.jar"/>
  </patternset>
  <patternset id="compiler.resources">
    <include name="**/?*.properties"/>
    <include name="**/?*.xml"/>
    <include name="**/?*.gif"/>
    <include name="**/?*.png"/>
    <include name="**/?*.jpeg"/>
    <include name="**/?*.jpg"/>
    <include name="**/?*.html"/>
    <include name="**/?*.dtd"/>
    <include name="**/?*.tld"/>
    <include name="**/?*.ftl"/>
    <include name="**/?*.js"/>
    <include name="**/?*.css"/>
    <include name="**/?*.swf"/>
  </patternset>
  
  <!-- JDK definitions -->
  
  <property name="jdk.bin.1.6" value="${jdk.home.1.6}/bin"/>
  <path id="jdk.classpath.1.6">
    <fileset dir="${jdk.home.1.6}">
      <include name="lib/deploy.jar"/>
      <include name="lib/dt.jar"/>
      <include name="lib/javaws.jar"/>
      <include name="lib/jce.jar"/>
      <include name="lib/jconsole.jar"/>
      <include name="lib/management-agent.jar"/>
      <include name="lib/plugin.jar"/>
      <include name="lib/sa-jdi.jar"/>
      <include name="../Classes/charsets.jar"/>
      <include name="../Classes/classes.jar"/>
      <include name="../Classes/jsse.jar"/>
      <include name="../Classes/ui.jar"/>
      <include name="lib/ext/apple_provider.jar"/>
      <include name="lib/ext/dnsns.jar"/>
      <include name="lib/ext/localedata.jar"/>
      <include name="lib/ext/sunjce_provider.jar"/>
      <include name="lib/ext/sunpkcs11.jar"/>
    </fileset>
  </path>
  
  <property name="jdk.bin.android_2.2_platform_(8)" value="${jdk.home.android_2.2_platform_(8)}/../../../System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin"/>
  <path id="jdk.classpath.android_2.2_platform_(8)">
    <fileset dir="${jdk.home.android_2.2_platform_(8)}">
      <include name="platforms/android-8/android.jar"/>
      <include name="platforms/android-8/data/res"/>
      <include name="tools/support/annotations.jar"/>
    </fileset>
  </path>
  
  <property name="project.jdk.home" value="${jdk.home.4.6.0}"/>
  <property name="project.jdk.bin" value="${jdk.bin.4.6.0}"/>
  <property name="project.jdk.classpath" value="jdk.classpath.4.6.0"/>
  
  
  <!-- Project Libraries -->
  
  <path id="library.as3corelib.classpath">
    <pathelement location="${basedir}/ExternalLibraries/as3corelib.swc"/>
  </path>
  
  <path id="library.castle.flexbridge.flash.classpath">
    <pathelement location="${basedir}/ExternalLibraries/Castle.FlexBridge.Flash.swc"/>
  </path>
  
  <path id="library.desktop_libraries_for_mobile_applications.classpath">
    <pathelement location="${path.variable.project_frameworks}/libs/advancedgrids.swc"/>
    <pathelement location="${path.variable.project_frameworks}/libs/charts.swc"/>
    <pathelement location="${path.variable.project_frameworks}/libs/mx/mx.swc"/>
    <pathelement location="${path.variable.project_frameworks}/libs/sparkskins.swc"/>
  </path>
  
  <path id="library.doc_logging_framework-1.0.classpath">
    <pathelement location="${basedir}/ExternalLibraries/doc_logging_framework-1.0.swc"/>
  </path>
  
  <path id="library.flexunit.classpath">
    <pathelement location="${basedir}/ExternalLibraries/FlexUnit/flexunit-4.1.0-8-flex_4.1.0.16076.swc"/>
    <pathelement location="${basedir}/ExternalLibraries/FlexUnit/turnkey/libs/hamcrest-as3-flex-1.1.3.swc"/>
  </path>
  
  <path id="library.j2as3collections.classpath">
    <pathelement location="${basedir}/ExternalLibraries/J2AS3Collections.swc"/>
  </path>
  
  <path id="library.mobile.classpath">
    <pathelement location="${path.variable.project_frameworks}/libs/mobile/mobilecomponents.swc"/>
    <pathelement location="${path.variable.project_frameworks}/themes/Mobile/mobile.swc"/>
  </path>
  
  <path id="library.theory9.data.types.orderedmap.classpath">
    <pathelement location="${basedir}/ExternalLibraries/Theory9.Data.Types.OrderedMap.swc"/>
  </path>
  
  
  <!-- Global Libraries -->
  
  <path id="library.desktop_libraries_for_mobile_applications.classpath">
    <pathelement location="${path.variable.project_frameworks}/libs/charts.swc"/>
    <pathelement location="${path.variable.project_frameworks}/libs/mx/mx.swc"/>
    <pathelement location="${path.variable.project_frameworks}/libs/sparkskins.swc"/>
  </path>
  <!-- Register Custom Compiler Taskdefs -->
  <property name="javac2.home" value="${idea.home}/lib"/>
  <path id="javac2.classpath">
    <pathelement location="${javac2.home}/javac2.jar"/>
    <pathelement location="${javac2.home}/jdom.jar"/>
    <pathelement location="${javac2.home}/asm4-all.jar"/>
    <pathelement location="${javac2.home}/jgoodies-forms.jar"/>
  </path>
  <target name="register.custom.compilers">
    <taskdef name="javac2" classname="com.intellij.ant.Javac2" classpathref="javac2.classpath"/>
    <taskdef name="instrumentIdeaExtensions" classname="com.intellij.ant.InstrumentIdeaExtensions" classpathref="javac2.classpath"/>
  </target>
  
  <!-- Modules -->
  
  <import file="${basedir}/Box2DFlashAS3/module_box2dflashas3.xml"/>
  
  <import file="${basedir}/ChartBackgroundsLib/module_chartbackgroundslib.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Android.DeviceGateway/module_collaborhythm.android.devicegateway.xml"/>
  
  <import file="${basedir}/FlashMediaServer.Applications/CollaboRhythm.CollaborationServer/module_collaborhythm.collaborationserver.xml"/>
  
  <import file="${basedir}/CollaboRhythm.ExampleData/module_collaborhythm.exampledata.xml"/>
  
  <import file="${basedir}/CollaboRhythm.NativeExtensions.PlayVideo.Android/module_collaborhythm.nativeextensions.playvideo.android.xml"/>
  
  <import file="${basedir}/CollaboRhythm.NativeExtensions.PlayVideo.Flex/module_collaborhythm.nativeextensions.playvideo.flex.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Model/module_collaborhythm.shared.model.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Model.Services/module_collaborhythm.shared.model.services.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.PluginsDeployment/module_collaborhythm.shared.pluginsdeployment.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.UI.Buttons/module_collaborhythm.shared.ui.buttons.xml"/>
  
  <import file="${basedir}/CollaboRhythm.View.Scroll/module_collaborhythm.view.scroll.xml"/>
  
  <import file="${basedir}/Design/module_design.xml"/>
  
  <import file="${basedir}/ExternalLibraries/module_externallibraries.xml"/>
  
  <import file="${basedir}/GAForFlash/module_gaforflash.xml"/>
  
  <import file="${basedir}/indivo_client_flash/module_indivo_client_flash.xml"/>
  
  <import file="${basedir}/IntelliJ.IDEA.Settings/module_intellij.idea.settings.xml"/>
  
  <import file="${basedir}/SplitViewNavigatorTest1/module_splitviewnavigatortest1.xml"/>
  
  <import file="${basedir}/TCPSyslogTarget/module_tcpsyslogtarget.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.BloodSolutesSimulation/module_collaborhythm.shared.bloodsolutessimulation.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Messages/module_collaborhythm.shared.messages.xml"/>
  
  <import file="${basedir}/McCuneChart/module_mccunechart.xml"/>
  
  <import file="${basedir}/PianoChord/module_pianochord.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared/module_collaborhythm.shared.xml"/>
  
  <import file="${basedir}/McCuneChart.demos/module_mccunechart.demos.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Core.Model/module_collaborhythm.core.model.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Problems/module_collaborhythm.plugins.problems.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Collaboration/module_collaborhythm.shared.collaboration.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.PluginsSupport/module_collaborhythm.shared.pluginssupport.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Tests/module_collaborhythm.shared.tests.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Core.Model.Tests/module_collaborhythm.core.model.tests.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugin.AsthmaManagement/module_collaborhythm.plugin.asthmamanagement.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.BlingAvatar/module_collaborhythm.plugins.blingavatar.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.CataractMap/module_collaborhythm.plugins.cataractmap.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Diary/module_collaborhythm.plugins.diary.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Examples.MicrophoneExamples/module_collaborhythm.plugins.examples.microphoneexamples.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.HypertensionEducation/module_collaborhythm.plugins.hypertensioneducation.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Messages/module_collaborhythm.plugins.messages.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Schedule.Shared/module_collaborhythm.plugins.schedule.shared.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Equipment/module_collaborhythm.plugins.equipment.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Equipment.ChameleonSpirometer/module_collaborhythm.plugins.equipment.chameleonspirometer.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Equipment.InsulinPen/module_collaborhythm.plugins.equipment.insulinpen.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Equipment.PillBox/module_collaborhythm.plugins.equipment.pillbox.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.ForaD40b/module_collaborhythm.plugins.forad40b.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.HealthActions/module_collaborhythm.plugins.healthactions.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Medications/module_collaborhythm.plugins.medications.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Medications.Insulin/module_collaborhythm.plugins.medications.insulin.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.PainReport/module_collaborhythm.plugins.painreport.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.DeviceSimulator/module_collaborhythm.shared.devicesimulator.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.UI.HealthCharts/module_collaborhythm.shared.ui.healthcharts.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Core/module_collaborhythm.core.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.HealthCharts/module_collaborhythm.plugins.healthcharts.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.PhysicalTherapy/module_collaborhythm.plugins.physicaltherapy.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Problems.HIV/module_collaborhythm.plugins.problems.hiv.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Model.Medications/module_collaborhythm.shared.model.medications.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Core.Tests/module_collaborhythm.core.tests.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Mobile/module_collaborhythm.mobile.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.BloodPressure/module_collaborhythm.plugins.bloodpressure.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.InsulinTitrationSupport/module_collaborhythm.plugins.insulintitrationsupport.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Plugins.Schedule/module_collaborhythm.plugins.schedule.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.Model.Medications.Tests/module_collaborhythm.shared.model.medications.tests.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Tablet/module_collaborhythm.tablet.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Workstation/module_collaborhythm.workstation.xml"/>
  
  <import file="${basedir}/CollaboRhythm.Shared.UI.HealthCharts.Tests/module_collaborhythm.shared.ui.healthcharts.tests.xml"/>
  
  <target name="init" description="Build initialization">
    <!-- Perform any build initialization in this target -->
  </target>
  
  <target name="clean" depends="clean.module.box2dflashas3, clean.module.chartbackgroundslib, clean.module.collaborhythm.android.devicegateway, clean.module.collaborhythm.collaborationserver, clean.module.collaborhythm.exampledata, clean.module.collaborhythm.nativeextensions.playvideo.android, clean.module.collaborhythm.nativeextensions.playvideo.flex, clean.module.collaborhythm.shared.model, clean.module.collaborhythm.shared.model.services, clean.module.collaborhythm.shared.pluginsdeployment, clean.module.collaborhythm.shared.ui.buttons, clean.module.collaborhythm.view.scroll, clean.module.design, clean.module.externallibraries, clean.module.gaforflash, clean.module.indivo_client_flash, clean.module.intellij.idea.settings, clean.module.splitviewnavigatortest1, clean.module.tcpsyslogtarget, clean.module.collaborhythm.shared.bloodsolutessimulation, clean.module.collaborhythm.shared.messages, clean.module.mccunechart, clean.module.pianochord, clean.module.collaborhythm.shared, clean.module.mccunechart.demos, clean.module.collaborhythm.core.model, clean.module.collaborhythm.plugins.problems, clean.module.collaborhythm.shared.collaboration, clean.module.collaborhythm.shared.pluginssupport, clean.module.collaborhythm.shared.tests, clean.module.collaborhythm.core.model.tests, clean.module.collaborhythm.plugin.asthmamanagement, clean.module.collaborhythm.plugins.blingavatar, clean.module.collaborhythm.plugins.cataractmap, clean.module.collaborhythm.plugins.diary, clean.module.collaborhythm.plugins.examples.microphoneexamples, clean.module.collaborhythm.plugins.hypertensioneducation, clean.module.collaborhythm.plugins.messages, clean.module.collaborhythm.plugins.schedule.shared, clean.module.collaborhythm.plugins.equipment, clean.module.collaborhythm.plugins.equipment.chameleonspirometer, clean.module.collaborhythm.plugins.equipment.insulinpen, clean.module.collaborhythm.plugins.equipment.pillbox, clean.module.collaborhythm.plugins.forad40b, clean.module.collaborhythm.plugins.healthactions, clean.module.collaborhythm.plugins.medications, clean.module.collaborhythm.plugins.medications.insulin, clean.module.collaborhythm.plugins.painreport, clean.module.collaborhythm.shared.devicesimulator, clean.module.collaborhythm.shared.ui.healthcharts, clean.module.collaborhythm.core, clean.module.collaborhythm.plugins.healthcharts, clean.module.collaborhythm.plugins.physicaltherapy, clean.module.collaborhythm.plugins.problems.hiv, clean.module.collaborhythm.shared.model.medications, clean.module.collaborhythm.core.tests, clean.module.collaborhythm.mobile, clean.module.collaborhythm.plugins.bloodpressure, clean.module.collaborhythm.plugins.insulintitrationsupport, clean.module.collaborhythm.plugins.schedule, clean.module.collaborhythm.shared.model.medications.tests, clean.module.collaborhythm.tablet, clean.module.collaborhythm.workstation, clean.module.collaborhythm.shared.ui.healthcharts.tests" description="cleanup all"/>
  
  <target name="build.modules" depends="init, clean, compile.module.box2dflashas3, compile.module.chartbackgroundslib, compile.module.collaborhythm.android.devicegateway, compile.module.collaborhythm.collaborationserver, compile.module.collaborhythm.exampledata, compile.module.collaborhythm.nativeextensions.playvideo.android, compile.module.collaborhythm.nativeextensions.playvideo.flex, compile.module.collaborhythm.shared.model, compile.module.collaborhythm.shared.model.services, compile.module.collaborhythm.shared.pluginsdeployment, compile.module.collaborhythm.shared.ui.buttons, compile.module.collaborhythm.view.scroll, compile.module.design, compile.module.externallibraries, compile.module.gaforflash, compile.module.indivo_client_flash, compile.module.intellij.idea.settings, compile.module.splitviewnavigatortest1, compile.module.tcpsyslogtarget, compile.module.collaborhythm.shared.bloodsolutessimulation, compile.module.collaborhythm.shared.messages, compile.module.mccunechart, compile.module.pianochord, compile.module.collaborhythm.shared, compile.module.mccunechart.demos, compile.module.collaborhythm.core.model, compile.module.collaborhythm.plugins.problems, compile.module.collaborhythm.shared.collaboration, compile.module.collaborhythm.shared.pluginssupport, compile.module.collaborhythm.shared.tests, compile.module.collaborhythm.core.model.tests, compile.module.collaborhythm.plugin.asthmamanagement, compile.module.collaborhythm.plugins.blingavatar, compile.module.collaborhythm.plugins.cataractmap, compile.module.collaborhythm.plugins.diary, compile.module.collaborhythm.plugins.examples.microphoneexamples, compile.module.collaborhythm.plugins.hypertensioneducation, compile.module.collaborhythm.plugins.messages, compile.module.collaborhythm.plugins.schedule.shared, compile.module.collaborhythm.plugins.equipment, compile.module.collaborhythm.plugins.equipment.chameleonspirometer, compile.module.collaborhythm.plugins.equipment.insulinpen, compile.module.collaborhythm.plugins.equipment.pillbox, compile.module.collaborhythm.plugins.forad40b, compile.module.collaborhythm.plugins.healthactions, compile.module.collaborhythm.plugins.medications, compile.module.collaborhythm.plugins.medications.insulin, compile.module.collaborhythm.plugins.painreport, compile.module.collaborhythm.shared.devicesimulator, compile.module.collaborhythm.shared.ui.healthcharts, compile.module.collaborhythm.core, compile.module.collaborhythm.plugins.healthcharts, compile.module.collaborhythm.plugins.physicaltherapy, compile.module.collaborhythm.plugins.problems.hiv, compile.module.collaborhythm.shared.model.medications, compile.module.collaborhythm.core.tests, compile.module.collaborhythm.mobile, compile.module.collaborhythm.plugins.bloodpressure, compile.module.collaborhythm.plugins.insulintitrationsupport, compile.module.collaborhythm.plugins.schedule, compile.module.collaborhythm.shared.model.medications.tests, compile.module.collaborhythm.tablet, compile.module.collaborhythm.workstation, compile.module.collaborhythm.shared.ui.healthcharts.tests" description="build all modules"/>
  
  <target name="init.artifacts">
    <property name="artifacts.temp.dir" value="${basedir}/__artifacts_temp"/>
    <property name="artifact.output.collaborhythm.nativeextensions.playvideo.android:jar" value="${basedir}/CollaboRhythm.NativeExtensions.PlayVideo.Android/bin"/>
    <mkdir dir="${artifacts.temp.dir}"/>
    <property name="temp.jar.path.PlayVideo.jar" value="${artifacts.temp.dir}/PlayVideo.jar"/>
  </target>
  
  <target name="artifact.collaborhythm.nativeextensions.playvideo.android:jar" depends="init.artifacts, compile.module.collaborhythm.nativeextensions.playvideo.android" description="Build &#39;CollaboRhythm.NativeExtensions.PlayVideo.Android:jar&#39; artifact">
    <property name="artifact.temp.output.collaborhythm.nativeextensions.playvideo.android:jar" value="${artifacts.temp.dir}/CollaboRhythm_NativeExtensions_PlayVideo_Android_jar"/>
    <mkdir dir="${artifact.temp.output.collaborhythm.nativeextensions.playvideo.android:jar}"/>
    <jar destfile="${temp.jar.path.PlayVideo.jar}" duplicate="preserve" filesetmanifest="mergewithoutmain">
      <zipfileset dir="${collaborhythm.nativeextensions.playvideo.android.output.dir}"/>
    </jar>
    <copy file="${temp.jar.path.PlayVideo.jar}" tofile="${artifact.temp.output.collaborhythm.nativeextensions.playvideo.android:jar}/PlayVideo.jar"/>
  </target>
  
  <target name="build.all.artifacts" depends="artifact.collaborhythm.nativeextensions.playvideo.android:jar" description="Build all artifacts">
    <mkdir dir="${artifact.output.collaborhythm.nativeextensions.playvideo.android:jar}"/>
    <copy todir="${artifact.output.collaborhythm.nativeextensions.playvideo.android:jar}">
      <fileset dir="${artifact.temp.output.collaborhythm.nativeextensions.playvideo.android:jar}"/>
    </copy>
    
    <!-- Delete temporary files -->
    <delete dir="${artifacts.temp.dir}"/>
  </target>
  
  <target name="all" depends="build.modules, build.all.artifacts" description="build all"/>
</project>